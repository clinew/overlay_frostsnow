From 2150ef120857ef3dbbe92c1bcc8a093c667a23fe Mon Sep 17 00:00:00 2001
From: Wade Cline <wadecline@hotmail.com>
Date: Sun, 2 Feb 2020 21:58:12 -0800
Subject: [PATCH 6/6] CotSS configuration

---
 docs/conf/codepages/ascii.conf                |  37 ----
 docs/conf/codepages/iso-8859-1.conf           |  42 -----
 docs/conf/codepages/iso-8859-2.conf           |  60 -------
 docs/conf/codepages/rfc1459.conf              |  41 -----
 docs/conf/codepages/strict-rfc1459.conf       |  40 -----
 docs/conf/filter.conf                         |  80 ---------
 docs/conf/inspircd.conf                       | 164 +++++++++++-------
 docs/conf/links.conf                          |  74 ++++----
 docs/conf/modules.conf                        |  95 ++++++----
 .../{openssl.conf.example => openssl.conf}    |   0
 docs/conf/opermotd.txt                        |  37 ----
 docs/conf/opers.conf                          |  47 ++---
 docs/conf/providers/dronebl.conf              |  11 --
 docs/conf/providers/efnet-rbl.conf            |  11 --
 docs/conf/providers/irccloud.conf             |  30 ----
 docs/conf/providers/torexit.conf              |  12 --
 docs/conf/services/anope.conf                 |   9 -
 docs/sql/sqloper/mysql.sql                    |  12 --
 docs/sql/sqloper/pgsql.sql                    |  13 --
 docs/sql/sqloper/sqlite3.sql                  |  10 --
 20 files changed, 219 insertions(+), 606 deletions(-)
 delete mode 100644 docs/conf/codepages/ascii.conf
 delete mode 100644 docs/conf/codepages/iso-8859-1.conf
 delete mode 100644 docs/conf/codepages/iso-8859-2.conf
 delete mode 100644 docs/conf/codepages/rfc1459.conf
 delete mode 100644 docs/conf/codepages/strict-rfc1459.conf
 delete mode 100644 docs/conf/filter.conf
 rename docs/conf/modules/{openssl.conf.example => openssl.conf} (100%)
 delete mode 100644 docs/conf/opermotd.txt
 delete mode 100644 docs/conf/providers/dronebl.conf
 delete mode 100644 docs/conf/providers/efnet-rbl.conf
 delete mode 100644 docs/conf/providers/irccloud.conf
 delete mode 100644 docs/conf/providers/torexit.conf
 delete mode 100644 docs/conf/services/anope.conf
 delete mode 100644 docs/sql/sqloper/mysql.sql
 delete mode 100644 docs/sql/sqloper/pgsql.sql
 delete mode 100644 docs/sql/sqloper/sqlite3.sql

diff --git a/docs/conf/codepages/ascii.conf b/docs/conf/codepages/ascii.conf
deleted file mode 100644
index 7c5ecdd85..000000000
--- a/docs/conf/codepages/ascii.conf
+++ /dev/null
@@ -1,37 +0,0 @@
-# This file contains ASCII codepage rules for use with the codepage module.
-
-<codepage name="ascii">
-
-<cpchars index="45">                        # -
-<cpchars begin="48"  end="57">              # 01234567899
-<cpchars begin="65"  end="90"  front="yes"> # ABCDEFGHIJKLMNOPQRSTUVWXYZ
-<cpchars begin="91"  end="96"  front="yes"> # [\]^_`
-<cpchars begin="97"  end="122" front="yes"> # abcdefghijklmnopqrstuvwxyz
-<cpchars begin="123" end="125" front="yes"> # {|}
-
-<cpcase lower="97"  upper="65"> # a => A
-<cpcase lower="98"  upper="66"> # b => B
-<cpcase lower="99"  upper="67"> # c => C
-<cpcase lower="100" upper="68"> # d => D
-<cpcase lower="101" upper="69"> # e => E
-<cpcase lower="102" upper="70"> # f => F
-<cpcase lower="103" upper="71"> # g => G
-<cpcase lower="104" upper="72"> # h => H
-<cpcase lower="105" upper="73"> # i => I
-<cpcase lower="106" upper="74"> # j => J
-<cpcase lower="107" upper="75"> # k => K
-<cpcase lower="108" upper="76"> # l => L
-<cpcase lower="109" upper="77"> # m => M
-<cpcase lower="110" upper="78"> # n => N
-<cpcase lower="111" upper="79"> # o => O
-<cpcase lower="112" upper="80"> # p => P
-<cpcase lower="113" upper="81"> # q => Q
-<cpcase lower="114" upper="82"> # r => R
-<cpcase lower="115" upper="83"> # s => S
-<cpcase lower="116" upper="84"> # t => T
-<cpcase lower="117" upper="85"> # u => U
-<cpcase lower="118" upper="86"> # v => V
-<cpcase lower="119" upper="87"> # w => W
-<cpcase lower="120" upper="88"> # x => X
-<cpcase lower="121" upper="89"> # y => Y
-<cpcase lower="122" upper="90"> # z => Z
diff --git a/docs/conf/codepages/iso-8859-1.conf b/docs/conf/codepages/iso-8859-1.conf
deleted file mode 100644
index 23a5a8621..000000000
--- a/docs/conf/codepages/iso-8859-1.conf
+++ /dev/null
@@ -1,42 +0,0 @@
-# This file contains ISO 8859-1 codepage rules for use with the codepage module.
-
-<codepage name="iso-8859-1" charset="iso-8859-1">
-
-<cpchars begin="192" end="214" front="yes"> # ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ
-<cpchars begin="216" end="246" front="yes"> # ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö
-<cpchars begin="248" end="255" front="yes"> # øùúûüýþÿ
-
-<cpcase lower="83"  upper="223"> # ß => S
-<cpcase lower="192" upper="224"> # à => À
-<cpcase lower="193" upper="225"> # á => Á
-<cpcase lower="194" upper="226"> # â => Â
-<cpcase lower="195" upper="227"> # ã => Ã
-<cpcase lower="196" upper="228"> # ä => Ä
-<cpcase lower="197" upper="229"> # å => Å
-<cpcase lower="198" upper="230"> # æ => Æ
-<cpcase lower="199" upper="231"> # ç => Ç
-<cpcase lower="200" upper="232"> # è => È
-<cpcase lower="201" upper="233"> # é => É
-<cpcase lower="202" upper="234"> # ê => Ê
-<cpcase lower="203" upper="235"> # ë => Ë
-<cpcase lower="204" upper="236"> # ì => Ì
-<cpcase lower="205" upper="237"> # í => Í
-<cpcase lower="206" upper="238"> # î => Î
-<cpcase lower="207" upper="239"> # ï => Ï
-<cpcase lower="208" upper="240"> # ð => Ð
-<cpcase lower="209" upper="241"> # ñ => Ñ
-<cpcase lower="210" upper="242"> # ò => Ò
-<cpcase lower="211" upper="243"> # ó => Ó
-<cpcase lower="212" upper="244"> # ô => Ô
-<cpcase lower="213" upper="245"> # õ => Õ
-<cpcase lower="214" upper="246"> # ö => Ö
-<cpcase lower="216" upper="248"> # ø => Ø
-<cpcase lower="217" upper="249"> # ù => Ù
-<cpcase lower="218" upper="250"> # ú => Ú
-<cpcase lower="219" upper="251"> # û => Û
-<cpcase lower="220" upper="252"> # ü => Ü
-<cpcase lower="221" upper="253"> # ý => Ý
-<cpcase lower="222" upper="254"> # þ => Þ
-
-# Include the ASCII rules to avoid duplication.
-<include file="/etc/inspircd/codepages/ascii.conf">
diff --git a/docs/conf/codepages/iso-8859-2.conf b/docs/conf/codepages/iso-8859-2.conf
deleted file mode 100644
index b2d20a95b..000000000
--- a/docs/conf/codepages/iso-8859-2.conf
+++ /dev/null
@@ -1,60 +0,0 @@
-# This file contains ISO 8859-2 codepage rules for use with the codepage module.
-
-<codepage name="iso-8859-2" charset="iso-8859-2">
-
-<cpchars index="161" front="yes">           # Ą
-<cpchars index="163" front="yes">           # Ł
-<cpchars begin="165" end="166" front="yes"> # ĽŚ
-<cpchars begin="169" end="172" front="yes"> # ŠŞŤŹ
-<cpchars begin="174" end="175" front="yes"> # ŽŻ
-<cpchars index="177" front="yes">           # ą
-<cpchars index="179" front="yes">           # ł
-<cpchars begin="181" end="182" front="yes"> # ľś
-<cpchars begin="185" end="188" front="yes"> # šşťź
-<cpchars begin="190" end="214" front="yes"> # žżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ
-<cpchars begin="216" end="246" front="yes"> # ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö
-<cpchars begin="248" end="254" front="yes"> # řůúűüýţ
-
-<cpcase lower="177" upper="161"> # ą => Ą
-<cpcase lower="179" upper="163"> # ł => Ł
-<cpcase lower="181" upper="165"> # ľ => Ľ
-<cpcase lower="182" upper="166"> # ś => Ś
-<cpcase lower="185" upper="169"> # š => Š
-<cpcase lower="186" upper="170"> # ş => Ş
-<cpcase lower="187" upper="171"> # ť => Ť
-<cpcase lower="188" upper="172"> # ź => Ź
-<cpcase lower="190" upper="174"> # ž => Ž
-<cpcase lower="191" upper="175"> # ż => Ż
-<cpcase lower="224" upper="192"> # ŕ => Ŕ
-<cpcase lower="225" upper="193"> # á => Á
-<cpcase lower="226" upper="194"> # â => Â
-<cpcase lower="227" upper="195"> # ă => Ă
-<cpcase lower="228" upper="196"> # ä => Ä
-<cpcase lower="229" upper="197"> # ĺ => Ĺ
-<cpcase lower="230" upper="198"> # ć => Ć
-<cpcase lower="231" upper="199"> # ç => Ç
-<cpcase lower="232" upper="200"> # č => Č
-<cpcase lower="233" upper="201"> # é => É
-<cpcase lower="234" upper="202"> # ę => Ę
-<cpcase lower="235" upper="203"> # ë => Ë
-<cpcase lower="236" upper="204"> # ě => Ě
-<cpcase lower="237" upper="205"> # í => Í
-<cpcase lower="238" upper="206"> # î => Î
-<cpcase lower="239" upper="207"> # ď => Ď
-<cpcase lower="240" upper="208"> # đ => Đ
-<cpcase lower="241" upper="209"> # ń => Ń
-<cpcase lower="242" upper="210"> # ň => Ň
-<cpcase lower="243" upper="211"> # ó => Ó
-<cpcase lower="244" upper="212"> # ô => Ô
-<cpcase lower="245" upper="213"> # ő => Ő
-<cpcase lower="246" upper="214"> # ö => Ö
-<cpcase lower="248" upper="216"> # ř => Ř
-<cpcase lower="249" upper="217"> # ů => Ů
-<cpcase lower="250" upper="218"> # ú => Ú
-<cpcase lower="251" upper="219"> # ű => Ű
-<cpcase lower="252" upper="220"> # ü => Ü
-<cpcase lower="253" upper="221"> # ý => Ý
-<cpcase lower="254" upper="222"> # ţ => Ţ
-
-# Include the ASCII rules to avoid duplication.
-<include file="/etc/inspircd/codepages/ascii.conf">
diff --git a/docs/conf/codepages/rfc1459.conf b/docs/conf/codepages/rfc1459.conf
deleted file mode 100644
index 32f453044..000000000
--- a/docs/conf/codepages/rfc1459.conf
+++ /dev/null
@@ -1,41 +0,0 @@
-# This file contains RFC 1459 codepage rules for use with the codepage module.
-
-<codepage name="rfc1459">
-
-<cpchars index="45">                        # -
-<cpchars begin="48"  end="57">              # 01234567899
-<cpchars begin="65"  end="90"  front="yes"> # ABCDEFGHIJKLMNOPQRSTUVWXYZ
-<cpchars begin="91"  end="96"  front="yes"> # [\]^_`
-<cpchars begin="97"  end="122" front="yes"> # abcdefghijklmnopqrstuvwxyz
-<cpchars begin="123" end="125" front="yes"> # {|}
-
-<cpcase lower="97"  upper="65"> # a => A
-<cpcase lower="98"  upper="66"> # b => B
-<cpcase lower="99"  upper="67"> # c => C
-<cpcase lower="100" upper="68"> # d => D
-<cpcase lower="101" upper="69"> # e => E
-<cpcase lower="102" upper="70"> # f => F
-<cpcase lower="103" upper="71"> # g => G
-<cpcase lower="104" upper="72"> # h => H
-<cpcase lower="105" upper="73"> # i => I
-<cpcase lower="106" upper="74"> # j => J
-<cpcase lower="107" upper="75"> # k => K
-<cpcase lower="108" upper="76"> # l => L
-<cpcase lower="109" upper="77"> # m => M
-<cpcase lower="110" upper="78"> # n => N
-<cpcase lower="111" upper="79"> # o => O
-<cpcase lower="112" upper="80"> # p => P
-<cpcase lower="113" upper="81"> # q => Q
-<cpcase lower="114" upper="82"> # r => R
-<cpcase lower="115" upper="83"> # s => S
-<cpcase lower="116" upper="84"> # t => T
-<cpcase lower="117" upper="85"> # u => U
-<cpcase lower="118" upper="86"> # v => V
-<cpcase lower="119" upper="87"> # w => W
-<cpcase lower="120" upper="88"> # x => X
-<cpcase lower="121" upper="89"> # y => Y
-<cpcase lower="122" upper="90"> # z => Z
-<cpcase lower="123" upper="91"> # { => [
-<cpcase lower="124" upper="92"> # | => \
-<cpcase lower="125" upper="93"> # } => ]
-<cpcase lower="126" upper="94"> # ~ => ^
diff --git a/docs/conf/codepages/strict-rfc1459.conf b/docs/conf/codepages/strict-rfc1459.conf
deleted file mode 100644
index fd4d749f9..000000000
--- a/docs/conf/codepages/strict-rfc1459.conf
+++ /dev/null
@@ -1,40 +0,0 @@
-# This file contains strict RFC 1459 codepage rules for use with the codepage module.
-
-<codepage name="strict-rfc1459">
-
-<cpchars index="45">                        # -
-<cpchars begin="48"  end="57">              # 01234567899
-<cpchars begin="65"  end="90"  front="yes"> # ABCDEFGHIJKLMNOPQRSTUVWXYZ
-<cpchars begin="91"  end="96"  front="yes"> # [\]^_`
-<cpchars begin="97"  end="122" front="yes"> # abcdefghijklmnopqrstuvwxyz
-<cpchars begin="123" end="125" front="yes"> # {|}
-
-<cpcase lower="97"  upper="65"> # a => A
-<cpcase lower="98"  upper="66"> # b => B
-<cpcase lower="99"  upper="67"> # c => C
-<cpcase lower="100" upper="68"> # d => D
-<cpcase lower="101" upper="69"> # e => E
-<cpcase lower="102" upper="70"> # f => F
-<cpcase lower="103" upper="71"> # g => G
-<cpcase lower="104" upper="72"> # h => H
-<cpcase lower="105" upper="73"> # i => I
-<cpcase lower="106" upper="74"> # j => J
-<cpcase lower="107" upper="75"> # k => K
-<cpcase lower="108" upper="76"> # l => L
-<cpcase lower="109" upper="77"> # m => M
-<cpcase lower="110" upper="78"> # n => N
-<cpcase lower="111" upper="79"> # o => O
-<cpcase lower="112" upper="80"> # p => P
-<cpcase lower="113" upper="81"> # q => Q
-<cpcase lower="114" upper="82"> # r => R
-<cpcase lower="115" upper="83"> # s => S
-<cpcase lower="116" upper="84"> # t => T
-<cpcase lower="117" upper="85"> # u => U
-<cpcase lower="118" upper="86"> # v => V
-<cpcase lower="119" upper="87"> # w => W
-<cpcase lower="120" upper="88"> # x => X
-<cpcase lower="121" upper="89"> # y => Y
-<cpcase lower="122" upper="90"> # z => Z
-<cpcase lower="123" upper="91"> # { => [
-<cpcase lower="124" upper="92"> # | => \
-<cpcase lower="125" upper="93"> # } => ]
diff --git a/docs/conf/filter.conf b/docs/conf/filter.conf
deleted file mode 100644
index fe95687f5..000000000
--- a/docs/conf/filter.conf
+++ /dev/null
@@ -1,80 +0,0 @@
-# Configuration file for the filter module
-
-# The tags for this module are formatted as follows:
-#
-# <keyword      pattern="any glob pattern here"
-#               reason="reason for filtering"
-#               action="action to take"
-#               flags="filter flags"
-#               duration="optional duration of the G-line, Z-line or shun">
-#
-# Valid actions for 'action' are:
-#
-# warn          This allows the line and sends out a notice to all opers
-#               with +s.
-#
-# block         This blocks the line, sends out a notice to all opers with
-#               +s and informs the user that their message was blocked.
-#
-# silent        This blocks the line only, and informs the user that their
-#               message was blocked, but does not notify opers.
-#
-# none          This action causes nothing to be done except logging. This
-#               is the default action if none is specified.
-#
-# kill          This disconnects the user, with the 'reason' parameter as
-#               the kill reason.
-#
-# gline         G-line the user for 'duration' length of time. Durations may
-#               be specified using the notation 1y2w3d4h5m6s in a similar way to
-#               other G-lines, omitting the duration or setting it to 0 makes
-#               any G-lines set by this filter be permanent.
-#
-# zline         Z-line the user for 'duration' length of time. Durations may
-#               be specified using the notation 1y2w3d4h5m6s in a similar way to
-#               other Z-lines, omitting the duration or setting it to 0 makes
-#               any Z-lines set by this filter be permanent.
-#
-# shun          Shun the user for 'duration' length of time. Durations may
-#               be specified using the notation 1y2w3d4h5m6s in a similar way to
-#               other X-lines, omitting the duration or setting it to 0 makes
-#               any shuns set by this filter be permanent.
-#               Requires the shun module to be loaded.
-#
-# You can add filters from IRC using the /FILTER command. If you do this, they
-# will be set globally to your entire network.
-#
-# Valid characters for 'flags' are one or more of:
-#
-# p: Block private and channel messages
-# n: Block private and channel notices
-# P: Block part messages
-# q: Block quit messages
-# o: Don't match against opers
-# r: Don't match against registered users
-# c: Strip color codes from text before trying to match
-# *: Represents all of the above flags except r
-# -: Does nothing, a no-op for when you do not want to specify any flags
-
-# Example filters:
-#
-# <keyword pattern="*qwerty*" reason="You qwertied!" action="block" flags="pn">
-# <keyword pattern="*killmenow*" reason="As you request." action="kill" flags="*">
-# <keyword pattern="*blah*" reason="Don't blah!" action="gline" duration="1d6h" flags="-">
-
-# An example regexp filter:
-#
-# <keyword pattern="^blah.*?$" reason="Don't blah!" action="gline" duration="1d6h" flags="pnPq">
-
-# You may specify specific channels that are exempt from being filtered:
-#<exemptfromfilter target="#opers">
-#<exemptfromfilter target="#help">
-
-# You can also exempt messages from being filtered if they are sent to
-# specific nicks.
-# Example that exempts all messages sent *to* NickServ:
-#<exemptfromfilter target="NickServ">
-
-# Note that messages *from* services are never subject to filtering;
-# <exemptfromfilter> tags are only for exempting messages sent *to* the
-# configured targets.
diff --git a/docs/conf/inspircd.conf b/docs/conf/inspircd.conf
index 81b50bf5f..961ce3a22 100644
--- a/docs/conf/inspircd.conf
+++ b/docs/conf/inspircd.conf
@@ -68,8 +68,8 @@
 #                                                                     #
 # See https://docs.inspircd.org/4/configuration/#define for a list of #
 # predefined config variables.                                        #
-<define name="bindip" value="1.2.2.3">
-<define name="localips" value="&bindip;/24">
+#<define name="bindip" value="1.2.2.3">
+#<define name="localips" value="&bindip;/24">
 
 #-#-#-#-#-#-#-#-#-#-#-#-  SERVER DESCRIPTION  -#-#-#-#-#-#-#-#-#-#-#-#-
 #                                                                     #
@@ -79,10 +79,10 @@
 <server
         # name: Hostname of your server. Does not need to resolve, but
         # does need to be correct syntax (something.somethingelse.tld).
-        name="penguin.omega.example.org"
+        name="frostsnow.net"
 
         # description: Server description. Spaces are allowed.
-        description="Waddle World"
+        description="Hesse"
 
         # id: The SID to use for this server. This should not be uncommented
         # unless there is a SID conflict. This must be three characters long.
@@ -92,7 +92,7 @@
 
         # network: Network name given on connect to clients.
         # Should be the same on all servers on the network.
-        network="Omega">
+        network="CotSS">
 
 
 #-#-#-#-#-#-#-#-#-#-#-#-   ADMIN INFORMATION   -#-#-#-#-#-#-#-#-#-#-#-#
@@ -102,14 +102,14 @@
 
 <admin
        # name: The nickname, real name, or team name of the server admin(s).
-       name="Adam Inistrator"
+       name="Frostsnow"
 
        # description: An optional description of the server admin(s).
        description="Supreme Overlord"
 
        # email: An email address at which the server admin(s) can be contacted
        #        in case of issues.
-       email="irc@example.com">
+       email="/msg HelpServ help">
 
 
 #-#-#-#-#-#-#-#-#-#-#-#-   PORT CONFIGURATION   -#-#-#-#-#-#-#-#-#-#-#-
@@ -164,7 +164,7 @@
       free="no">
 
 # Plaintext listener that binds on a TCP/IP endpoint:
-<bind address="" port="6667" type="clients">
+#<bind address="" port="6667" type="clients">
 
 
 # Listener that binds on a UNIX endpoint (not supported on Windows):
@@ -206,6 +206,7 @@
 # completely link-compatible and can be used alongside each other on each end
 # of the link without any significant issues.
 
+<bind address="127.0.0.1" port="7000" type="servers">
 
 #-#-#-#-#-#-#-#-#-#-  CONNECTIONS CONFIGURATION  -#-#-#-#-#-#-#-#-#-#-#
 #                                                                     #
@@ -231,29 +232,29 @@
 #<include file="/etc/inspircd/providers/irccloud.conf">
 
 # A connect class with <connect:deny> set denies connections from the specified host/IP range.
-<connect
+#<connect
          # deny: Will not let people connect if they have specified host/IP.
-         deny="3ffe::0/32"
+         #deny="3ffe::0/32"
 
          # reason: The message that users will see if they match a deny block.
-         reason="The 6bone address space is deprecated">
+         #reason="The 6bone address space is deprecated">
 
 # A connect class with <connect:allow> set allows c from the specified host/IP range.
-<connect
+#<connect
          # name: Name to use for this connect block. Mainly used for
          # connect class inheriting.
-         name="secret"
+         #name="secret"
 
          # parent: This setting is to specify if this connect class
          # inherits settings from any other. Put the other class's name
          # in here to use its settings as a template - for example,  if
          # you only want to adjust sendq and a password
-         parent="main"
+         #parent="main"
 
          # allow: The IP address or hostname of clients that can use this
          # class. You can specify either an exact match, a glob match, or
          # a CIDR range here.
-         allow="203.0.113.*"
+         #allow="203.0.113.*"
 
          # hash: the hash function this password is hashed with. Requires the
          # module for the selected function (bcrypt, md5, sha1, or sha256) and
@@ -265,30 +266,30 @@
          #hash="bcrypt"
 
          # password: Password to use for this block/user(s)
-         password="secret"
+         #password="secret"
 
          # maxchans: Maximum number of channels a user in this class
          # can be in at one time.
-         maxchans="20"
+         #maxchans="20"
 
          # timeout: How long the server will wait before disconnecting
          # a user if they do not do anything on connect.
          # (Note, this is a client-side thing, if the client does not
          # send /NICK, /USER or /PASS)
-         timeout="20"
+         #timeout="20"
 
          # localmax: Maximum local connections per IP (or CIDR mask, see below).
-         localmax="3"
+         #localmax="3"
 
          # globalmax: Maximum global (network-wide) connections per IP (or CIDR mask, see below).
-         globalmax="3"
+         #globalmax="3"
 
          # maxconnwarn: Enable warnings when localmax or globalmax are reached (defaults to yes)
-         maxconnwarn="no"
+         #maxconnwarn="no"
 
          # resolvehostnames: If disabled, no DNS lookups will be performed on connecting users
          # in this class. This can save a lot of resources on very busy servers.
-         resolvehostnames="yes"
+         #resolvehostnames="yes"
 
          # useconnectban: Defines if users in this class should be exempt from connectban limits.
          # This setting only has effect when the connectban module is loaded.
@@ -305,7 +306,7 @@
          # useident: Whether to try to look up the real username of users in this class using
          # the RFC 1413 identification protocol.
          # This setting only has effect when the ident module is loaded.
-         useident="no"
+         #useident="no"
 
          # usests: Whether a STS policy should be advertised to users in this class.
          # This setting only has effect when the ircv3_sts module is loaded.
@@ -316,14 +317,14 @@
          #webirc="name"
 
          # limit: How many users are allowed in this class
-         limit="5000"
+         #limit="5000"
 
          # modes: The modes to set on users in this class when they connect to
          # the server. See https://docs.inspircd.org/4/user-modes/ for a list of
          # user modes. The example below sets user modes c (deaf_commonchans)
          # and x (cloak) which require the commonchans and cloak modules.
          # This setting only has effect when the conn_umodes module is loaded.
-         modes="+cx"
+         #modes="+cx"
 
          # requireident: Require that users of this block have a valid ident response.
          # Requires the ident module to be loaded.
@@ -362,11 +363,33 @@
          # Underline:     \u
          # See https://defs.ircdocs.horse/info/formatting.html for more information
          # on client support for formatting characters.
-         motd="secretmotd"
+         #motd="secretmotd"
 
          # port: What port range this user is allowed to connect on. (optional)
          # The ports MUST be set to listen in the bind blocks above.
-         port="6697,9999">
+         #port="6697,9999">
+
+# Hack to get cert-only sign-on working.
+<connect
+	name="prereg"
+	allow="*"
+	maxchans="0"
+	timeout="10"
+	pingfreq="60"
+	hardsendq="1048576"
+	softsendq="8192"
+	recvq="8192"
+	threshold="10"
+	commandrate="1000"
+	fakelag="on"
+	localmax="3"
+	globalmax="3"
+	useident="no"
+	limit="23"
+	modes=""
+	registered="false"
+	port="6697"
+>
 
 <connect
          # name: Name to use for this connect block. Mainly used for
@@ -380,7 +403,7 @@
 
          # maxchans: Maximum number of channels a user in this class
          # can be in at one time.
-         maxchans="20"
+         maxchans="23"
 
          # timeout: How long the server will wait before disconnecting
          # a user if they do not do anything on connect.
@@ -389,7 +412,7 @@
          timeout="20"
 
          # pingfreq: How often the server tries to ping connecting clients.
-         pingfreq="2m"
+         pingfreq="256"
 
          # hardsendq: maximum amount of data allowed in a client's send queue
          # before they are dropped. Keep this value higher than the length of
@@ -412,7 +435,7 @@
          #
          # If you are not using fakelag, this should be at least 20 to avoid excess flood kills
          # from processing some commands.
-         threshold="10"
+         threshold="20"
 
          # commandrate: This specifies the maximum rate that commands can be processed.
          # If commands are sent more rapidly, the user's penalty will increase and they will
@@ -437,7 +460,7 @@
 
          # resolvehostnames: If disabled, no DNS lookups will be performed on connecting users
          # in this class. This can save a lot of resources on very busy servers.
-         resolvehostnames="yes"
+         resolvehostnames="no"
 
          # useident: Whether to try to look up the real username of users in this class using
          # the RFC 1413 identification protocol.
@@ -456,8 +479,15 @@
          # user modes. The example below sets user modes c (deaf_commonchans)
          # and x (cloak) which require the commonchans and cloak modules.
          # This setting only has effect when the conn_umodes module is loaded.
-         modes="+cx">
+         modes="+I">
 
+         # requiressl: Require that users of this block use an SSL connection.
+         # This can also be set to "trusted", as to only accept certificates
+         # issued by a certificate authority that you can configure in the
+         # settings of the SSL module that you're using.
+         # Requires the sslinfo module to be loaded.
+         requiressl="trusted"
+>
 
 
 #-#-#-#-#-#-#-#-#-#-#-#-  CIDR CONFIGURATION   -#-#-#-#-#-#-#-#-#-#-#-
@@ -487,7 +517,11 @@
 
 # This file has all the information about oper classes, types and o:lines.
 # You *MUST* edit it.
-#<include file="/etc/inspircd/opers.conf">
+<include file="/etc/inspircd/opers.conf">
+
+# This file has all the information about server links and ulined servers.
+# You *MUST* edit it if you intend to link servers.
+<include file="/etc/inspircd/links.conf">
 
 #-#-#-#-#-#-#-#-#-#-  MISCELLANEOUS CONFIGURATION  -#-#-#-#-#-#-#-#-#-#
 #                                                                     #
@@ -506,7 +540,7 @@
 # If these values are not defined, InspIRCd uses the default DNS resolver
 # of your system.
 
-<dns
+#<dns
      # server: DNS server to use to attempt to resolve IP's to hostnames.
      # in most cases, you won't need to change this, as inspircd will
      # automatically detect the nameserver depending on /etc/resolv.conf
@@ -517,7 +551,8 @@
      # server="127.0.0.1"
 
      # timeout: time to wait to try to resolve DNS/hostname.
-     timeout="5">
+     #timeout="5">
+<dns enabled="false">
 
 # An example of using an IPv6 nameserver
 #<dns server="::1" timeout="5">
@@ -532,7 +567,7 @@
 # default of 'inspircd.pid' is used.                                  #
 #                                                                     #
 
-#<pid file="/var/run/inspircd/inspircd.pid">
+<pid file="/var/run/inspircd/inspircd.pid">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#- LIST MODE LIMITS #-#-#-#-#-#-#-#-#-#-#-#-#-#
 #                                                                     #
@@ -564,19 +599,19 @@
 <options
          # prefixquit: What (if anything) users' quit messages
          # should be prefixed with.
-         prefixquit="Quit: "
+         #prefixquit="Quit: "
 
          # suffixquit: What (if anything) users' quit messages
          # should be suffixed with.
-         suffixquit=""
+         #suffixquit=""
 
          # prefixpart: What (if anything) users' part messages
          # should be prefixed with.
-         prefixpart="&quot;"
+         #prefixpart="&quot;"
 
          # suffixpart: What (if anything) users' part message
          # should be suffixed with.
-         suffixpart="&quot;"
+         #suffixpart="&quot;"
 
          # fixedquit: Set all users' quit messages to this value.
          #fixedquit=""
@@ -607,11 +642,11 @@
          # defaultbind: Sets the default for <bind> tags without an address. Choices are
          # ipv4 or ipv6; if not specified, IPv6 will be used if your system has support,
          # falling back to IPv4 otherwise.
-         defaultbind="auto"
+         defaultbind="ipv4"
 
          # hostintopic: If enabled, channels will show the host of the topic setter
          # in the topic. If set to no, it will only show the nick of the topic setter.
-         hostintopic="yes"
+         hostintopic="no"
 
          # pingwarning: If a server does not respond to a ping within this period,
          # it will send a notice to opers with snomask +l informing that the server
@@ -619,7 +654,7 @@
          pingwarning="15"
 
          # serverpingfreq: How often pings are sent between servers.
-         serverpingfreq="1m"
+         serverpingfreq="256"
 
          # splitwhois: Whether to split private/secret channels from normal channels
          # in WHOIS responses. Possible values for this are:
@@ -638,7 +673,7 @@
 
          # xlinemessage: This is the text that is sent to a user when they are
          # banned from the server.
-         xlinemessage="You're banned! Email irc@example.com with the ERROR line below for help."
+         xlinemessage="You're banned."
 
           # xlinequit: The quit message to show to opers and affected users when
           # a user is [KGZ]-lined. The variables you can use in this are:
@@ -796,7 +831,7 @@
           #publicxlinequit="%fulltype%"
 
           # hidekills: If defined, replaces who executed a /KILL with a custom string.
-          hidekills=""
+          #hidekills=""
 
           # hideservicekills: Hide kills from clients of services servers from server notices.
           hideservicekills="yes"
@@ -919,7 +954,8 @@
 <log method="file"
      level="normal"
      type="* -USERINPUT -USEROUTPUT"
-     target="inspircd.log">
+     target="/var/log/inspircd/ircd.log"
+     flush="1">
 
 #<log method="stderr"
 #     level="normal"
@@ -949,7 +985,7 @@
         # before being pruned. Time may be specified in seconds,
         # or in the following format: 1y2w3d4h5m6s. Minimum is
         # 1 hour.
-        maxkeep="3d">
+        maxkeep="1w">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-  BAN OPTIONS  -#-#-#-#-#-#-#-#-#-#-#-#-#-#
 #                                                                     #
@@ -958,39 +994,39 @@
 # Your server.                                                        #
 #                                                                     #
 
-<badip
+#<badip
        # ipmask: IP range to ban. Wildcards and CIDR can be used.
-       ipmask="192.0.2.69"
+       #ipmask="192.0.2.69"
 
        # reason: Reason to display when user is disconnected.
-       reason="No porn here thanks.">
+       #reason="No porn here thanks.">
 
-<badnick
+#<badnick
          # nick: Nick to disallow. Wildcards are supported.
-         nick="Tr0ll123"
+         #nick="Tr0ll123"
 
          # reason: Reason to display on /NICK.
-         reason="Don't use this nick.">
+         #reason="Don't use this nick.">
 
-<badhost
+#<badhost
          # host: username@hostname to ban.
          # Wildcards and CIDR (if you specify an IP) can be used.
-         host="*@banneduser.example.net"
+         #host="*@banneduser.example.net"
 
          # reason: Reason to display when user is disconnected
-         reason="Evading Bans">
+         #reason="Evading Bans">
 
 <badhost host="root@*" reason="Don't IRC as root!">
-<badhost host="*@198.51.100.0/24" reason="This subnet is bad.">
+#<badhost host="*@198.51.100.0/24" reason="This subnet is bad.">
 
 # exception: Hosts that are exempt from [KGZ]-lines.
-<exception
+#<exception
            # host: username@hostname to exempt.
            # Wildcards and CIDR (if you specify an IP) can be used.
-           host="*@serverop.example.com"
+           #host="*@serverop.example.com"
 
            # reason: Reason for exception. Only shown in /STATS e.
-           reason="Oper's hostname">
+           #reason="Oper's hostname">
 
 #-#-#-#-#-#-#-#-#-#-#- INSANE BAN OPTIONS  -#-#-#-#-#-#-#-#-#-#-#-#-#-#
 #                                                                     #
@@ -1034,7 +1070,7 @@
 # provide almost all the features of InspIRCd. :)                     #
 #                                                                     #
 # The default does nothing -- we include it for simplicity for you.   #
-#<include file="/etc/inspircd/modules.conf">
+<include file="/etc/inspircd/modules.conf">
 
 #-#-#-#-#-#-#-#-#-#-#-# SERVICES CONFIGURATION  #-#-#-#-#-#-#-#-#-#-#-#
 #                                                                     #
@@ -1043,13 +1079,13 @@
 # exemptions for services pseudoclients:                              #
 #
 # Anope users should uncomment this:
-#<include file="/etc/inspircd/aliases/anope.conf">
+#<include file="/etc/inspircd/services/anope.conf">
 #
 # Atheme users should uncomment this:
-#<include file="/etc/inspircd/aliases/atheme.conf">
+<include file="/etc/inspircd/services/atheme.conf">
 #
 # Users of other services should uncomment this:
-#<include file="/etc/inspircd/aliases/generic.conf">
+#<include file="/etc/inspircd/services/generic.conf">
 
 #########################################################################
 #                                                                       #
diff --git a/docs/conf/links.conf b/docs/conf/links.conf
index cd5691f8e..bfaee7035 100644
--- a/docs/conf/links.conf
+++ b/docs/conf/links.conf
@@ -7,15 +7,15 @@
 #                                                                     #
 
 # TLS listener that binds on a TCP/IP endpoint:
-<bind address="1.2.3.4"
-      port="7005"
-      type="servers"
-      sslprofile="Servers">
+#<bind address="1.2.3.4"
+#      port="7005"
+#      type="servers"
+#      sslprofile="Servers">
 
 # Plaintext listener that binds on a TCP/IP endpoint:
-<bind address=""
-      port="7000,7001"
-      type="servers">
+#<bind address=""
+#      port="7000,7001"
+#      type="servers">
 
 
 #-#-#-#-#-#-#-#-#-#-#-  SERVER LINK CONFIGURATION  -#-#-#-#-#-#-#-#-#-#
@@ -37,11 +37,11 @@
 <link
       # name: The name of the remote server. This must match
       # the <server:name> value of the remote server.
-      name="hub.example.org"
+      name="services.irc.frostsnow.net"
 
       # ipaddr: The IP address of the remote server.
       # Can also be a hostname, but hostname must resolve.
-      ipaddr="penguin.example.org"
+      ipaddr="localhost"
 
       # port: The port to connect to the server on.
       # It must be bound as a server port on the other server.
@@ -49,7 +49,7 @@
 
       # allowmask: Range of IP addresses to allow for this link.
       # Can be a CIDR (see example).
-      allowmask="203.0.113.0/24 127.0.0.0/8 2001:db8::/32"
+      allowmask="127.0.0.0/8"
 
       # timeout: If defined, this option defines how long the server
       # will wait to consider the connect attempt failed and try the
@@ -67,7 +67,7 @@
       # You will need to load the ssl_openssl module for OpenSSL, ssl_gnutls
       # for GnuTLS and ssl_mbedtls for mbedTLS. The server port that you
       # connect to must be capable of accepting this type of connection.
-      sslprofile="Servers"
+      #sslprofile="Servers"
 
       # fingerprint: If defined, this option will force servers to be
       # authenticated using TLS certificate fingerprints. See
@@ -76,7 +76,7 @@
       #fingerprint=""
 
       # bind: Local IP address to bind to.
-      bind="1.2.3.4"
+      #bind="127.0.0.1"
 
       # statshidden: Defines if IP is shown to opers when
       # /STATS c is invoked.
@@ -84,50 +84,50 @@
 
       # hidden: If this is set to yes, this server and its "child"
       # servers will not be shown when users do a /MAP or /LINKS.
-      hidden="no"
+      hidden="yes"
 
       # passwords: The passwords we send and receive.
       # The remote server will have these passwords reversed.
       # Passwords that contain a space character or begin with
       # a colon (:) are invalid and may not be used.
-      sendpass="outgoing!password"
-      recvpass="incoming!password">
+      sendpass="FIXME-SECRET
+      recvpass="FIXME-SECRET>
 
 # A duplicate of the first link block without comments,
 # if you like copying & pasting.
-<link name="hub.example.org"
-      ipaddr="penguin.example.org"
-      port="7000"
-      allowmask="203.0.113.0/24 127.0.0.0/8 2001:db8::/32"
-      timeout="5m"
-      sslprofile="Servers"
-      bind="1.2.3.4"
-      statshidden="no"
-      hidden="no"
-      sendpass="outgoing!password"
-      recvpass="incoming!password">
+#<link name="hub.example.org"
+#      ipaddr="penguin.example.org"
+#      port="7000"
+#      allowmask="203.0.113.0/24 127.0.0.0/8 2001:db8::/32"
+#      timeout="5m"
+#      sslprofile="Servers"
+#      bind="1.2.3.4"
+#      statshidden="no"
+#      hidden="no"
+#      sendpass="outgoing!password"
+#      recvpass="incoming!password">
 
 # Link block for services. Options are the same as for the first
 # link block (depending on what your services package supports).
-<link name="services.example.com"
-      ipaddr="localhost"
-      port="7000"
-      allowmask="127.0.0.0/8"
-      sendpass="penguins"
-      recvpass="polarbears">
+#<link name="services.example.com"
+#      ipaddr="localhost"
+#      port="7000"
+#      allowmask="127.0.0.0/8"
+#      sendpass="penguins"
+#      recvpass="polarbears">
 
 # Simple autoconnect block. This enables automatic connections to a server.
 # Recommended setup is to have leaves connect to the hub, and have no
 # automatic connections started by the hub.
-<autoconnect period="10m" server="hub.example.org">
+#<autoconnect period="10m" server="hub.example.org">
 
 # Failover autoconnect block. If you have multiple hubs, or want your network
 # to automatically link even if the hub is down, you can specify multiple
 # space separated servers to autoconnect; they will be tried in a round
 # robin fashion until one succeeds. Period defines the time for restarting
 # a single loop.
-<autoconnect period="2m"
-	server="hub.us.example.org hub.eu.example.org leaf.eu.example.org">
+#<autoconnect period="2m"
+#	server="hub.us.example.org hub.eu.example.org leaf.eu.example.org">
 
 
 #-#-#-#-#-#-#-#-#-#-#-# SERVICES  CONFIGURATION #-#-#-#-#-#-#-#-#-#-#-#-#
@@ -139,8 +139,8 @@
 # not generate quit and connect notices, which can cut down on noise    #
 # to opers on the network.                                              #
 #                                                                       #
-<services server="services.example.com" silent="yes">
+<services server="services.irc.frostsnow.net" silent="no">
 
 # Once you have edited this file you can remove this line. This is just to
 # ensure that you don't hastily include the file without reading it.
-<die reason="Using links.conf without editing it is a security risk">
+#<die reason="Using links.conf without editing it is a security risk">
diff --git a/docs/conf/modules.conf b/docs/conf/modules.conf
index 85a92009f..101aad621 100644
--- a/docs/conf/modules.conf
+++ b/docs/conf/modules.conf
@@ -46,7 +46,7 @@
 # function without this module but when it is loaded their features will
 # be enhanced (for example the addition of HMAC authentication).
 #
-#<module name="sha2">
+<module name="sha256">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Abbreviation module: Provides the ability to abbreviate commands a-la
@@ -162,7 +162,7 @@
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Allowinvite module: Gives channel mode +A to allow all users to use
 # /INVITE, and extban A to deny invite from specific masks.
-#<module name="allowinvite">
+<module name="allowinvite">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Alltime module: Shows time on all connected servers at once.
@@ -271,7 +271,7 @@
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Block color module: Blocking color-coded messages with chan mode +c.
-#<module name="blockcolor">
+<module name="blockcolor">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Botmode module: Adds the user mode +B. If set on a user, it will
@@ -429,16 +429,16 @@
 # characters in the channel name such as bold, colorcodes, etc. which
 # can be quite annoying and allow users to on occasion have a channel
 # that looks like the name of another channel on the network.
-#<module name="channames">
+<module name="channames">
 
-#<channames
+<channames
 	# denyrange: characters or range of characters to deny in channel
 	# names.
-	#denyrange="2,3"
+	denyrange="2,3,15,22,31"
 
 	# allowrange: characters or range of characters to specifically allow
 	# in channel names.
-	#allowrange="">
+	allowrange="">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Channelban: Implements extended ban j:, which stops anyone already
@@ -782,7 +782,7 @@
 # Connectban: Provides IP connection throttling. Any IP range that
 # connects too many times (configurable) in an hour is Z-lined for a
 # (configurable) duration, and their count resets to 0.
-#<module name="connectban">
+<module name="connectban">
 #
 # threshold - The number of connections which are allowed before a user
 #             is connectbanned. Defaults to 10.
@@ -805,13 +805,13 @@
 # splitwait - The time period to wait after a netsplit before enforcing
 #             connection bans. Defaults to 2 minutes.
 #
-#<connectban threshold="10"
-#            banmessage="Your IP range has been attempting to connect too many times in too short a duration. Wait a while, and you will be able to connect."
-#            banduration="6h"
-#            ipv4cidr="32"
-#            ipv6cidr="128"
-#            bootwait="2m"
-#            splitwait="2m">
+<connectban threshold="10"
+            banmessage="Your IP range has been attempting to connect too many times in too short a duration. Wait a while, and you will be able to connect."
+            duration="10m"
+            ipv4cidr="32"
+            ipv6cidr="128"
+            bootwait="2m"
+            splitwait="2m">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Connection throttle module.
@@ -902,7 +902,7 @@
 # Deaf module: Adds support for user modes +d and +D:
 # d - deaf to channel messages and notices.
 # D - deaf to user messages and notices.
-#<module name="deaf">
+<module name="deaf">
 #
 #-#-#-#-#-#-#-#-#-#-#-#-  DEAF CONFIGURATION   -#-#-#-#-#-#-#-#-#-#-#-#
 #  bypasschars        - Characters that bypass deaf to a regular user.
@@ -1155,7 +1155,7 @@
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Hide chans module: Allows users to hide their channels list from non-
 # opers by setting user mode +I on themselves.
-#<module name="hidechans">
+<module name="hidechans">
 #
 # This mode can optionally prevent opers from seeing channels on a +I
 # user, for more privacy if set to yes.
@@ -1195,7 +1195,7 @@
 # Hide oper module: Allows opers to hide their oper status from non-
 # opers by setting user mode +H on themselves.
 # This module is oper-only.
-#<module name="hideoper">
+<module name="hideoper">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # hostcycle module: Sends a fake part and join for users when their
@@ -1344,7 +1344,7 @@
 # extension which allows capable clients to get an acknowledgement when
 # their messages are delivered and learn what modifications, if any,
 # were applied to them.
-#<module name="ircv3_echomessage">
+<module name="ircv3_echomessage">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # IRCv3 invite-notify module: Provides the invite-notify IRCv3
@@ -1421,11 +1421,11 @@
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Anti auto rejoin: Adds support for prevention of auto-rejoin (+J).
-#<module name="kicknorejoin">
+<module name="kicknorejoin">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Knock module: Adds the /KNOCK command and channel mode +K.
-#<module name="knock">
+<module name="knock">
 #
 # This setting specifies what to do when someone successfully /KNOCKs.
 # If set to "notice", then a NOTICE will be sent to the channel.
@@ -1434,7 +1434,7 @@
 # If set to "numeric" then a 710 numeric will be sent to the channel.
 # This allows easier scripting but not all clients support it.
 # If set to "both" then (surprise!) both will be sent.
-#<knock notify="notice">
+<knock notify="notice">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # LDAP module: Allows other SQL modules to access a LDAP database
@@ -1605,7 +1605,7 @@
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Message flood module: Adds message/notice flood protection via
 # channel mode +f.
-#<module name="messageflood">
+<module name="messageflood">
 #
 # The weight to give each message type. TAGMSGs are considered to be
 # 1/5 of a NOTICE or PRIVMSG to avoid users being accidentally flooded
@@ -1683,7 +1683,7 @@
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # No CTCP module: Adds the channel mode +C and user mode +T to block
 # CTCPs and extban 'C' to block CTCPs sent by specific users.
-#<module name="noctcp">
+<module name="noctcp">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # No kicks module: Adds the +Q channel mode and the Q: extban to deny
@@ -1814,7 +1814,7 @@
 # and/or as the 'modes' parameter of the <oper> tag.
 # This module is oper-only. For the user equivalent, see the
 # conn_umodes module.
-#<module name="opermodes">
+<module name="opermodes">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Op moderated module: Adds channel mode +U and extban u: which allow
@@ -1829,10 +1829,10 @@
 # command.
 #<module name="passforward">
 
-<passforward
+#<passforward
 
 	# nick: The nick of the service to forward passwords to.
-	nick="NickServ"
+	#nick="NickServ"
 
 	# forwardmsg: Message to send to users when forwarding their
 	# password. You can use the following variables in this message:
@@ -1841,10 +1841,10 @@
 	# %nickrequired%  The nickname of the service to forward to (see above).
 	# %pass%          The password to forward to services.
 	# %user%          The username of the authenticating user.
-	forwardmsg="NOTICE %nick% :*** Forwarding password to %nickrequired%"
+	#forwardmsg="NOTICE %nick% :*** Forwarding password to %nickrequired%"
 
 	# cmd: The message to send to forward passwords to services.
-	cmd="SQUERY %nickrequired% :IDENTIFY %nick% %pass%">
+	#cmd="SQUERY %nickrequired% :IDENTIFY %nick% %pass%">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Password hash module: Allows hashed passwords to be used.
@@ -1969,7 +1969,7 @@
 # Optional - If you specify to use the randquote module, then specify #
 # below the path to the quotes file.                                  #
 #                                                                     #
-#<randquote file="quotes.txt">
+<randquote file="quotes.txt">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Real name ban: Implements two extended bans:                        #
@@ -2391,7 +2391,7 @@
 #
 # Does not do anything useful without a working TLS module and the
 # sslinfo module (see below).
-#<module name="sslmodes">
+<module name="sslmodes">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # TLS rehash signal module: Allows the TLS modules to be rehashed by
@@ -2406,7 +2406,7 @@
 #
 # Users of binary packages should consult the documentation for their
 # package to find out whether this module is available.
-#<module name="sslrehashsignal">
+<module name="sslrehashsignal">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # GnuTLS TLS module: Adds support for TLS connections using GnuTLS,
@@ -2434,7 +2434,7 @@
 # For how to use the oper features, please see the first
 # example <oper> tag in opers.conf.
 #
-#<module name="sslinfo">
+<module name="sslinfo">
 #
 #-#-#-#-#-#-#-#-#-#-#-#- SSLINFO CONFIGURATION -#-#-#-#-#-#-#-#-#-#-#-#
 #                                                                     #
@@ -2481,12 +2481,33 @@
 # if enabled. You must answer 'yes' in ./configure when asked or symlink
 # the source for this module from the directory src/modules/extra, if
 # you want to enable this, or it will not load.
-#<module name="ssl_openssl">
+<module name="ssl_openssl">
 #
 #-#-#-#-#-#-#-#-#-#-#- OPENSSL CONFIGURATION   -#-#-#-#-#-#-#-#-#-#-#-#
 #                                                                     #
 # ssl_openssl is too complex to describe here, see the docs:          #
 # https://docs.inspircd.org/4/modules/ssl_openssl                     #
+<sslprofile
+	name="Clients"
+	provider="openssl"
+	cafile="/var/lib/afr/cotss/ca.pem"
+	certfile="/var/lib/afr/cotss/certs.pem"
+	keyfile="/var/lib/afr/cotss/service/private/service.pem"
+	dhfile="/etc/inspircd/dhparams.pem"
+	hash="sha256"
+	ciphers="HIGH:@STRENGTH"
+	customcontextoptions="true"
+	cipherserverpref="on"
+	compression="false"
+	crlfile="/var/lib/afr/cotss/crl.pem"
+	#crlpath="/etc/ssl/frostsnow.net/crl"
+	crlmode="chain"
+	sslv3="false"
+	tlsv1="no"
+	tlsv11="no"
+	peer_keysize_min="rsaEncryption:4096"
+	peer_sigalg="RSA-SHA512,RSA-SHA256"
+>
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Strip color module: Adds channel mode +S that strips color codes and
@@ -2594,7 +2615,7 @@
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Uninvite module: Adds the /UNINVITE command which lets users remove
 # pending invites from channels without waiting for the user to join.
-#<module name="uninvite">
+<module name="uninvite">
 
 #-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#
 # Vhost module: Adds the VHOST command which allows for adding virtual
@@ -2686,8 +2707,8 @@
 # tree protocol (see the READ THIS BIT section above).
 # You will almost always want to load this.
 #
-#<module name="spanningtree">
+<module name="spanningtree">
 #
 # This file has all the information about server links and services servers.
 # You *MUST* edit it if you intend to link servers.
-#<include file="examples/links.conf.example">
+#<include file="examples/links.conf.example"> # FIXME: Migrate from inspircd.conf
diff --git a/docs/conf/modules/openssl.conf.example b/docs/conf/modules/openssl.conf
similarity index 100%
rename from docs/conf/modules/openssl.conf.example
rename to docs/conf/modules/openssl.conf
diff --git a/docs/conf/opermotd.txt b/docs/conf/opermotd.txt
deleted file mode 100644
index b0d37f385..000000000
--- a/docs/conf/opermotd.txt
+++ /dev/null
@@ -1,37 +0,0 @@
- _____                        _____   _____    _____      _
-|_   _|                      |_   _| |  __ \  / ____|    | |
-  | |    _ __    ___   _ __    | |   | |__) || |       __| |
-  | |   | '_ \  / __| | '_ \   | |   |  _  / | |      / _` |
- _| |_  | | | | \__ \ | |_) | _| |_  | | \ \ | |____ | (_| |
-|_____| |_| |_| |___/ | .__/ |_____| |_|  \_\ \_____| \__,_|
- _____________________| |__________________________________
-|_____________________|_|__________________________________|
-
-                         \iPowering IRC communities since 2006\x
-
-       /\     /\
-      {  `---'  }  \bWELCOME TO AN \c13I\c04N\c07S\c08P\c03I\c10R\c12C\c06D\c99 NETWORK\x
-      {  O   O  }
-      ~~>  V  <~~    If you see this, I'm probably new.
-       \  \|/  /       If I'm not new, my owner is lazy. ;-)
-        `-----'____
-        /     \    \_
-       {       }\  )_\_   _
-       |  \_/  |/ /  \_\_/ )
-        \__/  /(_/     \__/
-          (__/
-
-      +-- To change this see \bopermotd.txt        \x --+
-      |                                             |
-      |   * \bWeb:\x https://www.inspircd.org           |
-      |   * \bIRC:\x irc.inspircd.org #inspircd         |
-      |   * \bDocs:\x https://docs.inspircd.org         |
-      |   * \bIssues:\x https://git.io/JIuYi            |
-      |   * \bDiscussions:\x https://git.io/JIuYv       |
-      |                                             |
-      | We hope you like this software.  Please do  |
-      | make sure to customise your configuration,  |
-      | though, so you love it.  Enjoy.             |
-      |                                             |
-      |                        -- The InspIRCd Team |
-      +---------------------------------------------+
diff --git a/docs/conf/opers.conf b/docs/conf/opers.conf
index 750d91cfb..cc2be32e7 100644
--- a/docs/conf/opers.conf
+++ b/docs/conf/opers.conf
@@ -83,7 +83,7 @@
     classes="SACommands OperChat BanControl HostCloak Shutdown ServerLink"
 
     # vhost: Host that opers of this type get when they log in (oper up). This is optional.
-    vhost="netadmin.omega.example.org"
+    #vhost="netadmin.omega.example.org"
 
     # maxchans: Maximum number of channels opers of this type can be in at once.
     maxchans="60"
@@ -102,10 +102,10 @@
     # modes: User modes besides +o that are set on an oper of this type
     # when they oper up. Used for snomasks and other things.
     # Requires the opermodes module to be loaded.
-    modes="+s +cCqQ">
+    modes="+HI">
 
-<type name="GlobalOp" classes="SACommands OperChat BanControl HostCloak ServerLink" vhost="serverop.omega.example.org">
-<type name="Helper" classes="HostCloak" vhost="helper.omega.example.org">
+#<type name="GlobalOp" classes="SACommands OperChat BanControl HostCloak ServerLink" vhost="serverop.omega.example.org">
+#<type name="Helper" classes="HostCloak" vhost="helper.omega.example.org">
 
 
 #-#-#-#-#-#-#-#-#-#-#-  OPERATOR CONFIGURATION   -#-#-#-#-#-#-#-#-#-#-#
@@ -118,16 +118,16 @@
 <oper
       # name: Oper login that is used to oper up (/OPER <username> <password>).
       # Remember: This is case sensitive.
-      name="Attila"
+      name="frostsnow"
 
       # password: Case-sensitive, unhashed (plaintext).
-      password="s3cret"
+      #password="s3cret"
 
       # host: What hostnames and IPs are allowed to use this operator account.
       # Multiple options can be separated by spaces and CIDRs are allowed.
       # You can use just * or *@* for this section, but it is not recommended
       # for security reasons.
-      host="attila@inspircd.org *@2001:db8::/32"
+      host="127.0.0.0/8"
 
       # account: A space delimited list of account names or account ids that are allowed
       # to log into this account.
@@ -141,7 +141,8 @@
       # a matching TLS client certificate, which is very difficult to
       # forge (impossible unless preimage attacks on the hash exist).
       # If the sslinfo module isn't loaded, this option will be ignored.
-      #fingerprint="67cb9dc013248a829bb2171ed11becd4"
+      #fingerprint="FIXME-SECRET
+      fingerprint="FIXME-SECRET
 
       # autologin: Whether to automatically log this server operator in on connect if all
       # of their details match the ones in this <oper> block. Can be set to "strict" to
@@ -154,36 +155,36 @@
       # unless you are certain that nobody other than the intended user will match the
       # restrictions of this <oper> block. Failure to do this may result in your server
       # being compromised.
-      #autologin="strict"
+      autologin="strict"
 
       # sslonly: If enabled, this oper can only oper up if they're using a TLS connection.
       # Setting this option adds a decent bit of security. Highly recommended
       # if the oper is on wifi, or specifically, unsecured wifi. Note that it
       # is redundant to specify this option if you specify a fingerprint.
       # This setting only takes effect if the sslinfo module is loaded.
-      #sslonly="yes"
+      sslonly="yes"
 
       # vhost: Overrides the vhost in the type block. Class and modes may also
       # be overridden.
-      vhost="attila.example.org"
+      #vhost="attila.example.org"
 
       # type: Which type of operator this person is; see the block
       # above for the list of types. NOTE: This is case-sensitive as well.
       type="NetAdmin">
 
 # Operator with a plaintext password and no comments, for easy copy & paste.
-<oper
-      name="Brain"
-      password="youshouldhashthis"
-      host="brain@dialup15.isp.test.com *@localhost *@example.com *@2001:db8::/32"
+#<oper
+      #name="Brain"
+      #password="youshouldhashthis"
+      #host="brain@dialup15.isp.test.com *@localhost *@example.com *@2001:db8::/32"
       #fingerprint="67cb9dc013248a829bb2171ed11becd4"
-      type="NetAdmin">
+      #type="NetAdmin">
 
 # Operator with a hashed password. It is highly recommended to use hashed passwords.
-<oper
+#<oper
       # name: Oper login that is used to oper up (/OPER <username> <password>).
       # Remember: This is case sensitive.
-      name="Adam"
+      #name="Adam"
 
       # hash: The hash function this password is hashed with. Requires the
       # module for the selected function (bcrypt, md5, sha1, or sha256) and
@@ -192,23 +193,23 @@
       # You may also use any of the above other than bcrypt prefixed with
       # either "hmac-" or "pbkdf2-hmac-" (requires the pbkdf2 module).
       # Create hashed passwords with: /MKPASSWD <hashtype> <plaintext>.
-      hash="bcrypt"
+      #hash="bcrypt"
 
       # password: A hash of the password (see above option) hashed
       # with /MKPASSWD <hashtype> <plaintext>. See the password_hash module
       # in modules.conf for more information about password hashing.
-      password="qQmv3LcF$Qh63wzmtUqWp9OXnLwe7yv1GcBwHpq59k2a0UrY8xe0"
+      #password="qQmv3LcF$Qh63wzmtUqWp9OXnLwe7yv1GcBwHpq59k2a0UrY8xe0"
 
       # host: What hostnames and IPs are allowed to use this operator account.
       # Multiple options can be separated by spaces and CIDRs are allowed.
       # You can use just * or *@* for this section, but it is not recommended
       # for security reasons.
-      host="*@127.0.0.1 *@192.0.2.40 *@198.51.100.4"
+      #host="*@127.0.0.1 *@192.0.2.40 *@198.51.100.4"
 
       # type: Which type of operator this person is; see the block
       # above for the list of types. NOTE: This is case-sensitive as well.
-      type="Helper">
+      #type="Helper">
 
 # Once you have edited this file you can remove this line. This is just to
 # ensure that you don't hastily include the file without reading it.
-<die reason="Using opers.conf without editing it is a security risk">
+#<die reason="Using opers.conf without editing it is a security risk">
diff --git a/docs/conf/providers/dronebl.conf b/docs/conf/providers/dronebl.conf
deleted file mode 100644
index 72055d522..000000000
--- a/docs/conf/providers/dronebl.conf
+++ /dev/null
@@ -1,11 +0,0 @@
-# This file contains configuration for using the dnsbl module with
-# the DroneBL DNSBL. See https://dronebl.org/ for more information on
-# DroneBL.
-
-<dnsbl name="DroneBL"
-       domain="dnsbl.dronebl.org"
-       type="record"
-       records="3,5,6,7,8,9,10,11,13,14,15,16,17,19"
-       action="zline"
-       duration="7d"
-       reason="You are listed in DroneBL. Please visit https://dronebl.org/lookup.do?ip=%ip% for more information.">
diff --git a/docs/conf/providers/efnet-rbl.conf b/docs/conf/providers/efnet-rbl.conf
deleted file mode 100644
index 78dce53cb..000000000
--- a/docs/conf/providers/efnet-rbl.conf
+++ /dev/null
@@ -1,11 +0,0 @@
-# This file contains configuration for using the dnsbl module with
-# the EFnet RBL. See https://rbl.efnetrbl.org/ for more information
-# on the EFnet RBL.
-
-<dnsbl name="EFnet RBL"
-       domain="rbl.efnetrbl.org"
-       type="record"
-       records="1,2,3,4,5"
-       action="zline"
-       duration="7d"
-       reason="You are listed in the EFnet RBL. Please visit https://rbl.efnetrbl.org/?i=%ip% for more information.">
diff --git a/docs/conf/providers/irccloud.conf b/docs/conf/providers/irccloud.conf
deleted file mode 100644
index 9cc6470d3..000000000
--- a/docs/conf/providers/irccloud.conf
+++ /dev/null
@@ -1,30 +0,0 @@
-# This file contains connect classes which are used by IRCCloud users.
-# See https://www.irccloud.com for more information on IRCCloud and
-# https://www.irccloud.com/networks for more information on supporting
-# IRCCloud on your network.
-
-<connect name="IRCCloud"
-         parent="main"
-         globalmax="100"
-         localmax="100"
-         useconnectban="no"
-         useconnflood="no"
-         usednsbl="no">
-
-<connect name="IRCCloud (IPv4)"
-         parent="IRCCloud"
-         allow="5.254.36.56/29 5.254.36.104/29"
-         uniqueusername="yes">
-
-# This is not typically needed as each user has their own IPv6 but if you have
-# <cidr:ipv6clone> set to a value lower than 128 you will need to enable it.
-#<connect name="IRCCloud (IPv6)"
-#         parent="IRCCloud"
-#         allow="2a03:5180:f::/62 2a03:5180:f:4::/63 2a03:5180:f:6::/64">
-
-# IRCCloud IPv4 users use a shared IPv4 address which means that some clients
-# may have trouble banning them. To work around this you can use the cloak_user
-# module to copy the user identifier from the username to the hostname.
-#<cloak method="username"
-#       class="IRCCloud (IPv4),IRCCloud (IPv6)"
-#       suffix=".irccloud.com">
diff --git a/docs/conf/providers/torexit.conf b/docs/conf/providers/torexit.conf
deleted file mode 100644
index abc35c696..000000000
--- a/docs/conf/providers/torexit.conf
+++ /dev/null
@@ -1,12 +0,0 @@
-# This file contains configuration for using the dnsbl module with
-# the dan.me.uk Tor exit node DNSBL. See https://www.dan.me.uk/dnsbl
-# for more information on the dan.me.uk Tor exit node DNSBL.
-
-<dnsbl name="torexit.dan.me.uk"
-       domain="torexit.dan.me.uk"
-       type="record"
-       records="100"
-       timeout="10s"
-       action="zline"
-       duration="7d"
-       reason="Tor exit nodes are not allowed on this network. See https://metrics.torproject.org/rs.html#search/%ip% for more information.">
diff --git a/docs/conf/services/anope.conf b/docs/conf/services/anope.conf
deleted file mode 100644
index 558b0d650..000000000
--- a/docs/conf/services/anope.conf
+++ /dev/null
@@ -1,9 +0,0 @@
-# This file contains aliases and nickname reservations which are used
-# by Anope. See https://www.anope.org for more information on Anope.
-
-# This file inherits from the generic config to avoid repetition.
-<include file="/etc/inspircd/services/generic.conf">
-
-# /GLOBAL <message>
-# Sends a global notice.
-<alias text="GLOBAL" format="*" replace="SQUERY $requirement :GLOBAL $2-" requires="Global" service="yes" operonly="yes">
diff --git a/docs/sql/sqloper/mysql.sql b/docs/sql/sqloper/mysql.sql
deleted file mode 100644
index 83dfa68a6..000000000
--- a/docs/sql/sqloper/mysql.sql
+++ /dev/null
@@ -1,12 +0,0 @@
-CREATE TABLE ircd_opers (
-  id bigint(20) NOT NULL auto_increment,
-  name text NOT NULL,
-  password text NOT NULL,
-  hash text,
-  host text NOT NULL,
-  type text NOT NULL,
-  fingerprint text,
-  autologin tinyint(1) NOT NULL DEFAULT 0,
-  active tinyint(1) NOT NULL DEFAULT 1,
-  PRIMARY KEY  (id)
-) ENGINE=InnoDB;
diff --git a/docs/sql/sqloper/pgsql.sql b/docs/sql/sqloper/pgsql.sql
deleted file mode 100644
index 954bc84fa..000000000
--- a/docs/sql/sqloper/pgsql.sql
+++ /dev/null
@@ -1,13 +0,0 @@
-CREATE TABLE ircd_opers (
-    "id" serial NOT NULL,
-    "name" text NOT NULL,
-    "password" text NOT NULL,
-    "hash" text,
-    "host" text NOT NULL,
-    "type" text NOT NULL,
-    "fingerprint" text,
-    "autologin" smallint NOT NULL DEFAULT 0,
-    "active" smallint NOT NULL DEFAULT 1
-);
-ALTER TABLE ONLY ircd_opers
-    ADD CONSTRAINT ircd_opers_pkey PRIMARY KEY (id);
diff --git a/docs/sql/sqloper/sqlite3.sql b/docs/sql/sqloper/sqlite3.sql
deleted file mode 100644
index 6aec5a118..000000000
--- a/docs/sql/sqloper/sqlite3.sql
+++ /dev/null
@@ -1,10 +0,0 @@
-CREATE TABLE ircd_opers (
-id integer primary key,
-name text NOT NULL,
-password text NOT NULL,
-hash text,
-host text NOT NULL,
-type text NOT NULL,
-fingerprint text,
-autologin integer NOT NULL DEFAULT 0,
-active integer NOT NULL DEFAULT 1);
-- 
2.41.0

